# 一刻短剧

### 项目介绍

基于我之前开发的网站 [PLAYLET-APP](https://danoandholidays.github.io/PLAYLET-APP/) 的二次开发。原生开发功能全手撸，所以之前的项目有很多问题和没有写完的部分，我也不打算改了，直接重新写一个。

由于短剧竖屏播放，并不适合h5，所以全面**模仿抖音**。
专注于短剧的竖屏播放体验，前端界面将模仿抖音的交互与视觉风格。

### 功能实现

- 模仿首页的滑动无限加载（随机的短剧
- 剧集信息（选集
- 分类页
- 个人主页（数据存储于本地
- 侧边栏（仅展示

---

### API

仅有短剧相关、分类的部分
基于Apifox悦享好剧开发（希望项目一直开放...）

### 底层库选择

Axios 和 Fetch API 是目前前端项目中使用最广泛的两种方案

项目算采Axios

---

### 项目路线图

1.  **第一阶段 (核心体验)**：实现基于Video.js的单视频播放器，验证服务器Range请求与拖拽功能。✅
2.  **第二阶段 (核心交互)**：开发上下滑动的容器组件，实现视频的切换逻辑与基本预加载。（重难点）✅
3.  **第三阶段 (优化与扩展)**：完善UI细节（加载状态、错误处理）、用户系统（点赞、收藏）、剧集选择等功能。✅

---

# 开发日志

### 9.17.25

- 每次请求15条，再维护一个数组，存三条，上划一条，当前一条，下滑一条。
- 当15条请求的12条的时候，再次请求，覆盖请求，但是最多15条。
- 初步完成了滑动切换视频，`overflow: scroll`我能记得一辈子你

### 9.18.25

- 今天把点击和滑动区分一下❎
- 折腾半天，添加了滚轮、上下键和鼠标手指的滑动切换视频功能，添加了props所传递的数据。有点不太跟手，但是效果还是可以的，太跟手可能会影响性能，所有频繁触发的事件处理函数handle都对应添加了节流和防抖，lodash的库还真是好用🥵👍
- 滑动切换视频这个功能基本上是完成了

### 9.19.25

- 接下来就是维护视频队列了，由最初的3条->5条，动态更新队列时，滚动会出现一些问题✅
- 再把Element的message框的样式修改一下，区分点击和滑动❎
- 添加暂停、结束播放的样式，添加视频poster✅

### 9.20.25

- 将Element的message框的样式修改一下，改为了黑底白字，区分点击和滑动✅
- 使用Pinia新建一个store，用来存储用户信息，并且使用插件[pinia-plugin-persistedstate](https://github.com/prazdevs/pinia-plugin-persistedstate)实现浏览器本地存储✅
- 设计开屏界面，使用Pinia存储应用运行信息，便于管理✅
- 将其余的三页框架搭建起来

### 待完成...

- 优化并发请求的性能问题
- 添加播放完成后的剧集选择功能，使用和侧边栏的同一接口
